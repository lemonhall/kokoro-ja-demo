#!/bin/bash
# 日文分词优化效果展示脚本
# 用于演示优化前后的对比

echo "=========================================="
echo "  日文分词器优化效果展示"
echo "=========================================="
echo ""
echo "优化措施："
echo "  1. 长度奖励提升至 15.0"
echo "  2. 单字惩罚提升至 30.0"
echo "  3. 添加 9 条词性转移规则"
echo "  4. 补充 185 个常用词汇"
echo ""
echo "=========================================="
echo ""

# 测试用例
test_cases=(
    "私は学生です"
    "昨日、新しいカフェで友達と久しぶりに会って、美味しいケーキを食べながら二時間も喋りました。"
    "子供の頃、宇宙飛行士になりたいと思っていました。"
    "ありがとうございます。お疲れさまでした。"
    "今日は天気がいいですね。公園で散歩しませんか。"
)

# 运行测试
cd /mnt/e/development/kokoro-ja-demo/misaki_c_port/build

for i in "${!test_cases[@]}"; do
    echo "----------------------------------------"
    echo "测试 $((i+1)): ${test_cases[$i]}"
    echo "----------------------------------------"
    ./misaki "${test_cases[$i]}" 2>&1 | grep -A 50 "G2P Result"
    echo ""
    echo ""
done

echo "=========================================="
echo "  测试完成！"
echo "=========================================="
